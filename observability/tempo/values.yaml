# Grafana Tempo Values for Distributed Tracing

tempo:
  # Resource configuration
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  # Storage configuration
  storage:
    trace:
      backend: local
      local:
        path: /var/tempo/traces
      wal:
        path: /var/tempo/wal
  
  # Retention
  retention: 168h  # 7 days
  
  # Receivers - accept traces
  receivers:
    jaeger:
      protocols:
        thrift_http:
          endpoint: 0.0.0.0:14268
        grpc:
          endpoint: 0.0.0.0:14250
    otlp:
      protocols:
        http:
          endpoint: 0.0.0.0:4318
        grpc:
          endpoint: 0.0.0.0:4317
    zipkin:
      endpoint: 0.0.0.0:9411

# Persistence for traces
persistence:
  enabled: true
  size: 10Gi

# Service configuration
service:
  type: ClusterIP

# Ingress for Tempo query API
ingress:
  enabled: true
  ingressClassName: nginx
  hosts:
    - host: tempo.longops.io.vn
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: tempo-tls
      hosts:
        - tempo.longops.io.vn

# ServiceMonitor for Prometheus
serviceMonitor:
  enabled: true
  interval: 30s

# Gateway for query frontend
gateway:
  enabled: true
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi
